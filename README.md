# ScreenGen

**ScreenGen** - это простая консольная утилита на C++ и Qt для создания скринлистов (галерей скриншотов) и отдельных скриншотов из видеофайлов.

## Описание

ScreenGen использует FFmpeg для декодирования видео и Qt для создания графического вывода.  Утилита предназначена для пользователей Linux, которым необходимо быстро создавать превью видеофайлов в виде скринлистов или отдельных кадров прямо из командной строки.

## Возможности

*   **Создание скринлистов:**  Генерирует галерею кадров из видеофайла, упорядоченных в виде таблицы.
*   **Создание отдельных скриншотов:** Позволяет получить один кадр из видео, указав временную позицию.
*   **Конфигурация через командную строку:**  Все параметры работы утилиты задаются через аргументы командной строки.
*   **Конфигурация через файл presets:** Возможность сохранения и использования предустановленных наборов параметров в конфигурационном файле `~/.config/screengen/screengen.conf`.
*   **Настройка внешнего вида скринлиста:**
    *   Количество кадров в скринлисте.
    *   Размеры скринлиста и отдельных кадров.
    *   Количество кадров по горизонтали.
    *   Отступы от начала и конца видео для выборки кадров.
    *   Толщина бордюров скринлиста и кадров.
    *   Настройка тени для кадров (смещение, интенсивность, цвет).
    *   Фоновое изображение или цвет.
*   **Настройка заголовка:**
    *   Создание заголовка с информацией о видеофайле (можно отключить).
    *   Настройка шрифта, размера, стиля, цвета и тени для текста заголовка.
    *   Фон заголовка (изображение или цвет), цвет бордюра и толщина.
*   **Настройка штампа времени на кадрах:**
    *   Вывод штампа времени на каждом кадре (можно отключить).
    *   Настройка шрифта, размера, стиля, цвета и тени для штампа времени.
    *   Выбор позиции штампа времени (верхний/нижний, левый/правый угол).
*   **Выбор формата выходного изображения:** Поддержка различных форматов изображений (по умолчанию - `jpg`).


## Запуск и параметры командной строки

Для запуска ScreenGen необходимо открыть терминал и выполнить команду `screengen`, указав в качестве первого параметра путь к видеофайлу.  Все остальные параметры задаются в виде опций командной строки.

`screengen video.mp4 [опции]`

## Примеры
![Example](https://raw.githubusercontent.com/Svarkovsky/screengen/refs/heads/main/anrdou.jpg)
![Example](https://raw.githubusercontent.com/Svarkovsky/screengen/refs/heads/main/screengen_008.jpg)

## Параметры
![Parameters](https://raw.githubusercontent.com/Svarkovsky/screengen/refs/heads/main/screengen_002.png)

## Зависимости
FFmpeg: Необходимы библиотеки FFmpeg (ffmpeg-libs или аналогичный пакет в вашем дистрибутиве) для декодирования видео.
Qt: Требуется Qt 6 (или Qt 5, в зависимости от версии ScreenGen) для графического интерфейса и отрисовки изображений.

## Сборка
Для сборки ScreenGen из исходного кода вам понадобятся:

Компилятор C++ (например, g++)
Qt 6 development files (или Qt 5, в зависимости от версии)
FFmpeg development files (libavformat-dev, libavcodec-dev, libavutil-dev, libswscale-dev или аналогичные пакеты)
libpng development files (libpng-dev или libpng16-dev)
Стандартный процесс сборки (для Linux):

Скачайте исходный код ScreenGen.
Перейдите в каталог с исходным кодом.
Выполните qmake6 screengen.pro (или qmake-qt5 screengen.pro для Qt 5).
Выполните make.
После успешной сборки исполняемый файл screengen будет находиться в каталоге bin/.

## Лицензия
ScreenGen распространяется под лицензией GNU General Public License Version 3 (GPLv3). Смотрите файл LICENSE для получения подробной информации.

## Адаптация для Qt6
Данная версия ScreenGen адаптирована для работы с Qt6. Оригинальная версия могла быть разработана под Qt5 или более раннюю версию Qt. Адаптация для Qt6 обеспечивает совместимость с современными библиотеками Qt и может включать исправления ошибок и улучшения производительности.

## Благодарности
Oleg Kochkin - автор оригинальной версии ScreenGen.
Ivan Svarkovsky - за адаптацию под Qt6 и поддержку проекта.



