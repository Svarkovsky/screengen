# ScreenGen

**ScreenGen** - це проста консольна утиліта на C++ та Qt для створення скрінлістів (галерей скріншотів) та окремих скріншотів з відеофайлів.

## Опис

ScreenGen використовує FFmpeg для декодування відео та Qt для створення графічного виводу. Утиліта призначена для користувачів Linux, яким необхідно швидко створювати прев'ю відеофайлів у вигляді скрінлістів або окремих кадрів прямо з командного рядка.

## Можливості

*   **Створення скрінлістів:** Генерує галерею кадрів з відеофайлу, упорядкованих у вигляді таблиці.
*   **Створення окремих скріншотів:** Дозволяє отримати один кадр з відео, вказавши часову позицію.
*   **Конфігурація через командний рядок:** Усі параметри роботи утиліти задаються через аргументи командного рядка.
*   **Конфігурація через файл presets:** Можливість збереження та використання попередньо встановлених наборів параметрів у файлі конфігурації `~/.config/screengen/screengen.conf`.
*   **Налаштування зовнішнього вигляду скрінліста:**
    *   Кількість кадрів у скрінлісті.
    *   Розміри скрінліста та окремих кадрів.
    *   Кількість кадрів по горизонталі.
    *   Відступи від початку та кінця відео для вибірки кадрів.
    *   Товщина бордюрів скрінліста та кадрів.
    *   Налаштування тіні для кадрів (зміщення, інтенсивність, колір).
    *   Фонове зображення або колір.
*   **Налаштування заголовка:**
    *   Створення заголовка з інформацією про відеофайл (можна вимкнути).
    *   Налаштування шрифту, розміру, стилю, кольору та тіні для тексту заголовка.
    *   Фон заголовка (зображення або колір), колір бордюру та товщина.
*   **Налаштування штампу часу на кадрах:**
    *   Виведення штампу часу на кожному кадрі (можна вимкнути).
    *   Налаштування шрифту, розміру, стилю, кольору та тіні для штампу часу.
    *   Вибір позиції штампу часу (верхній/нижній, лівий/правий кут).
*   **Вибір формату вихідного зображення:** Підтримка різних форматів зображень (за замовчуванням - `jpg`).

## Запуск та параметри командного рядка

ScreenGen запускається з консолі, а також з контекстного меню файлового менеджера, створений скрінліст розташовується в одному каталозі з відео файлом та з тією ж назвою файлу.

![Example](https://raw.githubusercontent.com/Svarkovsky/screengen/refs/heads/main/screengen_003.png)

Для запуску ScreenGen необхідно відкрити термінал і виконати команду `screengen`, вказавши в якості першого параметра шлях до відеофайлу. Усі інші параметри задаються у вигляді опцій командного рядка або використовуються набори параметрів у файлі конфігурації `~/.config/screengen/screengen.conf`.

`screengen video.mp4 [parameters]` <br>
або <br>
`screengen name_file.avi --preset s5x4 --offsetBegin "00:00:30" --offsetEnd "00:00:10" --listBorder 4`

## Приклади
![Example](https://raw.githubusercontent.com/Svarkovsky/screengen/refs/heads/main/anrdou.jpg)
![Example](https://raw.githubusercontent.com/Svarkovsky/screengen/refs/heads/main/screengen_008.jpg)

## Параметри
![Parameters](https://raw.githubusercontent.com/Svarkovsky/screengen/refs/heads/main/screengen_002.png)

## Залежності
FFmpeg: Необхідні бібліотеки FFmpeg (`ffmpeg-libs` або аналогічний пакет у вашому дистрибутиві) для декодування відео.
Qt: Потрібен Qt 6 (або Qt 5, в залежності від версії ScreenGen) для графічного інтерфейсу та відтворення зображень.

## Збірка
Для збірки ScreenGen з вихідного коду вам знадобляться:

*   Компілятор C++ (наприклад, g++)
*   Qt 6 development files (або Qt 5, в залежності від версії)
*   FFmpeg development files (`libavformat-dev`, `libavcodec-dev`, `libavutil-dev`, `libswscale-dev` або аналогічні пакети)
*   libpng development files (`libpng-dev` або `libpng16-dev`)

Стандартний процес збірки (для Linux):

1.  Завантажте вихідний код ScreenGen.
2.  Перейдіть до каталогу з вихідним кодом.
3.  Виконайте `qmake6 screengen.pro` (або `qmake-qt5 screengen.pro` для Qt 5).
4.  Виконайте `make`.

Після успішної збірки виконуваний файл `screengen` буде знаходитися в каталозі `bin/`.

## Ліцензія
ScreenGen розповсюджується за ліцензією GNU General Public License Version 3 (GPLv3). Дивіться файл `LICENSE` для отримання докладної інформації.

## Адаптація для Qt6
Ця версія ScreenGen адаптована для роботи з Qt6. Оригінальна версія могла бути розроблена під Qt5 або ранішу версію Qt. Адаптація для Qt6 забезпечує сумісність з сучасними бібліотеками Qt і може включати виправлення помилок та покращення продуктивності.

## Подяки
Oleg Kochkin - автор оригінальної версії ScreenGen. <br>
Ivan Svarkovsky - за адаптацію під Qt6 та підтримку проекту.
